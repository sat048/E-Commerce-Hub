{"version":3,"file":"index.js","sources":["../node_modules/color-name/index.js","../node_modules/color-convert/conversions.js","../node_modules/color-convert/route.js","../node_modules/color-convert/index.js","../src/helper.js","../src/StyledBullet.js","../src/BulletScreen.js"],"sourcesContent":["'use strict'\r\n\r\nmodule.exports = {\r\n\t\"aliceblue\": [240, 248, 255],\r\n\t\"antiquewhite\": [250, 235, 215],\r\n\t\"aqua\": [0, 255, 255],\r\n\t\"aquamarine\": [127, 255, 212],\r\n\t\"azure\": [240, 255, 255],\r\n\t\"beige\": [245, 245, 220],\r\n\t\"bisque\": [255, 228, 196],\r\n\t\"black\": [0, 0, 0],\r\n\t\"blanchedalmond\": [255, 235, 205],\r\n\t\"blue\": [0, 0, 255],\r\n\t\"blueviolet\": [138, 43, 226],\r\n\t\"brown\": [165, 42, 42],\r\n\t\"burlywood\": [222, 184, 135],\r\n\t\"cadetblue\": [95, 158, 160],\r\n\t\"chartreuse\": [127, 255, 0],\r\n\t\"chocolate\": [210, 105, 30],\r\n\t\"coral\": [255, 127, 80],\r\n\t\"cornflowerblue\": [100, 149, 237],\r\n\t\"cornsilk\": [255, 248, 220],\r\n\t\"crimson\": [220, 20, 60],\r\n\t\"cyan\": [0, 255, 255],\r\n\t\"darkblue\": [0, 0, 139],\r\n\t\"darkcyan\": [0, 139, 139],\r\n\t\"darkgoldenrod\": [184, 134, 11],\r\n\t\"darkgray\": [169, 169, 169],\r\n\t\"darkgreen\": [0, 100, 0],\r\n\t\"darkgrey\": [169, 169, 169],\r\n\t\"darkkhaki\": [189, 183, 107],\r\n\t\"darkmagenta\": [139, 0, 139],\r\n\t\"darkolivegreen\": [85, 107, 47],\r\n\t\"darkorange\": [255, 140, 0],\r\n\t\"darkorchid\": [153, 50, 204],\r\n\t\"darkred\": [139, 0, 0],\r\n\t\"darksalmon\": [233, 150, 122],\r\n\t\"darkseagreen\": [143, 188, 143],\r\n\t\"darkslateblue\": [72, 61, 139],\r\n\t\"darkslategray\": [47, 79, 79],\r\n\t\"darkslategrey\": [47, 79, 79],\r\n\t\"darkturquoise\": [0, 206, 209],\r\n\t\"darkviolet\": [148, 0, 211],\r\n\t\"deeppink\": [255, 20, 147],\r\n\t\"deepskyblue\": [0, 191, 255],\r\n\t\"dimgray\": [105, 105, 105],\r\n\t\"dimgrey\": [105, 105, 105],\r\n\t\"dodgerblue\": [30, 144, 255],\r\n\t\"firebrick\": [178, 34, 34],\r\n\t\"floralwhite\": [255, 250, 240],\r\n\t\"forestgreen\": [34, 139, 34],\r\n\t\"fuchsia\": [255, 0, 255],\r\n\t\"gainsboro\": [220, 220, 220],\r\n\t\"ghostwhite\": [248, 248, 255],\r\n\t\"gold\": [255, 215, 0],\r\n\t\"goldenrod\": [218, 165, 32],\r\n\t\"gray\": [128, 128, 128],\r\n\t\"green\": [0, 128, 0],\r\n\t\"greenyellow\": [173, 255, 47],\r\n\t\"grey\": [128, 128, 128],\r\n\t\"honeydew\": [240, 255, 240],\r\n\t\"hotpink\": [255, 105, 180],\r\n\t\"indianred\": [205, 92, 92],\r\n\t\"indigo\": [75, 0, 130],\r\n\t\"ivory\": [255, 255, 240],\r\n\t\"khaki\": [240, 230, 140],\r\n\t\"lavender\": [230, 230, 250],\r\n\t\"lavenderblush\": [255, 240, 245],\r\n\t\"lawngreen\": [124, 252, 0],\r\n\t\"lemonchiffon\": [255, 250, 205],\r\n\t\"lightblue\": [173, 216, 230],\r\n\t\"lightcoral\": [240, 128, 128],\r\n\t\"lightcyan\": [224, 255, 255],\r\n\t\"lightgoldenrodyellow\": [250, 250, 210],\r\n\t\"lightgray\": [211, 211, 211],\r\n\t\"lightgreen\": [144, 238, 144],\r\n\t\"lightgrey\": [211, 211, 211],\r\n\t\"lightpink\": [255, 182, 193],\r\n\t\"lightsalmon\": [255, 160, 122],\r\n\t\"lightseagreen\": [32, 178, 170],\r\n\t\"lightskyblue\": [135, 206, 250],\r\n\t\"lightslategray\": [119, 136, 153],\r\n\t\"lightslategrey\": [119, 136, 153],\r\n\t\"lightsteelblue\": [176, 196, 222],\r\n\t\"lightyellow\": [255, 255, 224],\r\n\t\"lime\": [0, 255, 0],\r\n\t\"limegreen\": [50, 205, 50],\r\n\t\"linen\": [250, 240, 230],\r\n\t\"magenta\": [255, 0, 255],\r\n\t\"maroon\": [128, 0, 0],\r\n\t\"mediumaquamarine\": [102, 205, 170],\r\n\t\"mediumblue\": [0, 0, 205],\r\n\t\"mediumorchid\": [186, 85, 211],\r\n\t\"mediumpurple\": [147, 112, 219],\r\n\t\"mediumseagreen\": [60, 179, 113],\r\n\t\"mediumslateblue\": [123, 104, 238],\r\n\t\"mediumspringgreen\": [0, 250, 154],\r\n\t\"mediumturquoise\": [72, 209, 204],\r\n\t\"mediumvioletred\": [199, 21, 133],\r\n\t\"midnightblue\": [25, 25, 112],\r\n\t\"mintcream\": [245, 255, 250],\r\n\t\"mistyrose\": [255, 228, 225],\r\n\t\"moccasin\": [255, 228, 181],\r\n\t\"navajowhite\": [255, 222, 173],\r\n\t\"navy\": [0, 0, 128],\r\n\t\"oldlace\": [253, 245, 230],\r\n\t\"olive\": [128, 128, 0],\r\n\t\"olivedrab\": [107, 142, 35],\r\n\t\"orange\": [255, 165, 0],\r\n\t\"orangered\": [255, 69, 0],\r\n\t\"orchid\": [218, 112, 214],\r\n\t\"palegoldenrod\": [238, 232, 170],\r\n\t\"palegreen\": [152, 251, 152],\r\n\t\"paleturquoise\": [175, 238, 238],\r\n\t\"palevioletred\": [219, 112, 147],\r\n\t\"papayawhip\": [255, 239, 213],\r\n\t\"peachpuff\": [255, 218, 185],\r\n\t\"peru\": [205, 133, 63],\r\n\t\"pink\": [255, 192, 203],\r\n\t\"plum\": [221, 160, 221],\r\n\t\"powderblue\": [176, 224, 230],\r\n\t\"purple\": [128, 0, 128],\r\n\t\"rebeccapurple\": [102, 51, 153],\r\n\t\"red\": [255, 0, 0],\r\n\t\"rosybrown\": [188, 143, 143],\r\n\t\"royalblue\": [65, 105, 225],\r\n\t\"saddlebrown\": [139, 69, 19],\r\n\t\"salmon\": [250, 128, 114],\r\n\t\"sandybrown\": [244, 164, 96],\r\n\t\"seagreen\": [46, 139, 87],\r\n\t\"seashell\": [255, 245, 238],\r\n\t\"sienna\": [160, 82, 45],\r\n\t\"silver\": [192, 192, 192],\r\n\t\"skyblue\": [135, 206, 235],\r\n\t\"slateblue\": [106, 90, 205],\r\n\t\"slategray\": [112, 128, 144],\r\n\t\"slategrey\": [112, 128, 144],\r\n\t\"snow\": [255, 250, 250],\r\n\t\"springgreen\": [0, 255, 127],\r\n\t\"steelblue\": [70, 130, 180],\r\n\t\"tan\": [210, 180, 140],\r\n\t\"teal\": [0, 128, 128],\r\n\t\"thistle\": [216, 191, 216],\r\n\t\"tomato\": [255, 99, 71],\r\n\t\"turquoise\": [64, 224, 208],\r\n\t\"violet\": [238, 130, 238],\r\n\t\"wheat\": [245, 222, 179],\r\n\t\"white\": [255, 255, 255],\r\n\t\"whitesmoke\": [245, 245, 245],\r\n\t\"yellow\": [255, 255, 0],\r\n\t\"yellowgreen\": [154, 205, 50]\r\n};\r\n","/* MIT license */\n/* eslint-disable no-mixed-operators */\nconst cssKeywords = require('color-name');\n\n// NOTE: conversions should only return primitive values (i.e. arrays, or\n//       values that give correct `typeof` results).\n//       do not use box values types (i.e. Number(), String(), etc.)\n\nconst reverseKeywords = {};\nfor (const key of Object.keys(cssKeywords)) {\n\treverseKeywords[cssKeywords[key]] = key;\n}\n\nconst convert = {\n\trgb: {channels: 3, labels: 'rgb'},\n\thsl: {channels: 3, labels: 'hsl'},\n\thsv: {channels: 3, labels: 'hsv'},\n\thwb: {channels: 3, labels: 'hwb'},\n\tcmyk: {channels: 4, labels: 'cmyk'},\n\txyz: {channels: 3, labels: 'xyz'},\n\tlab: {channels: 3, labels: 'lab'},\n\tlch: {channels: 3, labels: 'lch'},\n\thex: {channels: 1, labels: ['hex']},\n\tkeyword: {channels: 1, labels: ['keyword']},\n\tansi16: {channels: 1, labels: ['ansi16']},\n\tansi256: {channels: 1, labels: ['ansi256']},\n\thcg: {channels: 3, labels: ['h', 'c', 'g']},\n\tapple: {channels: 3, labels: ['r16', 'g16', 'b16']},\n\tgray: {channels: 1, labels: ['gray']}\n};\n\nmodule.exports = convert;\n\n// Hide .channels and .labels properties\nfor (const model of Object.keys(convert)) {\n\tif (!('channels' in convert[model])) {\n\t\tthrow new Error('missing channels property: ' + model);\n\t}\n\n\tif (!('labels' in convert[model])) {\n\t\tthrow new Error('missing channel labels property: ' + model);\n\t}\n\n\tif (convert[model].labels.length !== convert[model].channels) {\n\t\tthrow new Error('channel and label counts mismatch: ' + model);\n\t}\n\n\tconst {channels, labels} = convert[model];\n\tdelete convert[model].channels;\n\tdelete convert[model].labels;\n\tObject.defineProperty(convert[model], 'channels', {value: channels});\n\tObject.defineProperty(convert[model], 'labels', {value: labels});\n}\n\nconvert.rgb.hsl = function (rgb) {\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\tconst min = Math.min(r, g, b);\n\tconst max = Math.max(r, g, b);\n\tconst delta = max - min;\n\tlet h;\n\tlet s;\n\n\tif (max === min) {\n\t\th = 0;\n\t} else if (r === max) {\n\t\th = (g - b) / delta;\n\t} else if (g === max) {\n\t\th = 2 + (b - r) / delta;\n\t} else if (b === max) {\n\t\th = 4 + (r - g) / delta;\n\t}\n\n\th = Math.min(h * 60, 360);\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tconst l = (min + max) / 2;\n\n\tif (max === min) {\n\t\ts = 0;\n\t} else if (l <= 0.5) {\n\t\ts = delta / (max + min);\n\t} else {\n\t\ts = delta / (2 - max - min);\n\t}\n\n\treturn [h, s * 100, l * 100];\n};\n\nconvert.rgb.hsv = function (rgb) {\n\tlet rdif;\n\tlet gdif;\n\tlet bdif;\n\tlet h;\n\tlet s;\n\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\tconst v = Math.max(r, g, b);\n\tconst diff = v - Math.min(r, g, b);\n\tconst diffc = function (c) {\n\t\treturn (v - c) / 6 / diff + 1 / 2;\n\t};\n\n\tif (diff === 0) {\n\t\th = 0;\n\t\ts = 0;\n\t} else {\n\t\ts = diff / v;\n\t\trdif = diffc(r);\n\t\tgdif = diffc(g);\n\t\tbdif = diffc(b);\n\n\t\tif (r === v) {\n\t\t\th = bdif - gdif;\n\t\t} else if (g === v) {\n\t\t\th = (1 / 3) + rdif - bdif;\n\t\t} else if (b === v) {\n\t\t\th = (2 / 3) + gdif - rdif;\n\t\t}\n\n\t\tif (h < 0) {\n\t\t\th += 1;\n\t\t} else if (h > 1) {\n\t\t\th -= 1;\n\t\t}\n\t}\n\n\treturn [\n\t\th * 360,\n\t\ts * 100,\n\t\tv * 100\n\t];\n};\n\nconvert.rgb.hwb = function (rgb) {\n\tconst r = rgb[0];\n\tconst g = rgb[1];\n\tlet b = rgb[2];\n\tconst h = convert.rgb.hsl(rgb)[0];\n\tconst w = 1 / 255 * Math.min(r, Math.min(g, b));\n\n\tb = 1 - 1 / 255 * Math.max(r, Math.max(g, b));\n\n\treturn [h, w * 100, b * 100];\n};\n\nconvert.rgb.cmyk = function (rgb) {\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\n\tconst k = Math.min(1 - r, 1 - g, 1 - b);\n\tconst c = (1 - r - k) / (1 - k) || 0;\n\tconst m = (1 - g - k) / (1 - k) || 0;\n\tconst y = (1 - b - k) / (1 - k) || 0;\n\n\treturn [c * 100, m * 100, y * 100, k * 100];\n};\n\nfunction comparativeDistance(x, y) {\n\t/*\n\t\tSee https://en.m.wikipedia.org/wiki/Euclidean_distance#Squared_Euclidean_distance\n\t*/\n\treturn (\n\t\t((x[0] - y[0]) ** 2) +\n\t\t((x[1] - y[1]) ** 2) +\n\t\t((x[2] - y[2]) ** 2)\n\t);\n}\n\nconvert.rgb.keyword = function (rgb) {\n\tconst reversed = reverseKeywords[rgb];\n\tif (reversed) {\n\t\treturn reversed;\n\t}\n\n\tlet currentClosestDistance = Infinity;\n\tlet currentClosestKeyword;\n\n\tfor (const keyword of Object.keys(cssKeywords)) {\n\t\tconst value = cssKeywords[keyword];\n\n\t\t// Compute comparative distance\n\t\tconst distance = comparativeDistance(rgb, value);\n\n\t\t// Check if its less, if so set as closest\n\t\tif (distance < currentClosestDistance) {\n\t\t\tcurrentClosestDistance = distance;\n\t\t\tcurrentClosestKeyword = keyword;\n\t\t}\n\t}\n\n\treturn currentClosestKeyword;\n};\n\nconvert.keyword.rgb = function (keyword) {\n\treturn cssKeywords[keyword];\n};\n\nconvert.rgb.xyz = function (rgb) {\n\tlet r = rgb[0] / 255;\n\tlet g = rgb[1] / 255;\n\tlet b = rgb[2] / 255;\n\n\t// Assume sRGB\n\tr = r > 0.04045 ? (((r + 0.055) / 1.055) ** 2.4) : (r / 12.92);\n\tg = g > 0.04045 ? (((g + 0.055) / 1.055) ** 2.4) : (g / 12.92);\n\tb = b > 0.04045 ? (((b + 0.055) / 1.055) ** 2.4) : (b / 12.92);\n\n\tconst x = (r * 0.4124) + (g * 0.3576) + (b * 0.1805);\n\tconst y = (r * 0.2126) + (g * 0.7152) + (b * 0.0722);\n\tconst z = (r * 0.0193) + (g * 0.1192) + (b * 0.9505);\n\n\treturn [x * 100, y * 100, z * 100];\n};\n\nconvert.rgb.lab = function (rgb) {\n\tconst xyz = convert.rgb.xyz(rgb);\n\tlet x = xyz[0];\n\tlet y = xyz[1];\n\tlet z = xyz[2];\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > 0.008856 ? (x ** (1 / 3)) : (7.787 * x) + (16 / 116);\n\ty = y > 0.008856 ? (y ** (1 / 3)) : (7.787 * y) + (16 / 116);\n\tz = z > 0.008856 ? (z ** (1 / 3)) : (7.787 * z) + (16 / 116);\n\n\tconst l = (116 * y) - 16;\n\tconst a = 500 * (x - y);\n\tconst b = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n\nconvert.hsl.rgb = function (hsl) {\n\tconst h = hsl[0] / 360;\n\tconst s = hsl[1] / 100;\n\tconst l = hsl[2] / 100;\n\tlet t2;\n\tlet t3;\n\tlet val;\n\n\tif (s === 0) {\n\t\tval = l * 255;\n\t\treturn [val, val, val];\n\t}\n\n\tif (l < 0.5) {\n\t\tt2 = l * (1 + s);\n\t} else {\n\t\tt2 = l + s - l * s;\n\t}\n\n\tconst t1 = 2 * l - t2;\n\n\tconst rgb = [0, 0, 0];\n\tfor (let i = 0; i < 3; i++) {\n\t\tt3 = h + 1 / 3 * -(i - 1);\n\t\tif (t3 < 0) {\n\t\t\tt3++;\n\t\t}\n\n\t\tif (t3 > 1) {\n\t\t\tt3--;\n\t\t}\n\n\t\tif (6 * t3 < 1) {\n\t\t\tval = t1 + (t2 - t1) * 6 * t3;\n\t\t} else if (2 * t3 < 1) {\n\t\t\tval = t2;\n\t\t} else if (3 * t3 < 2) {\n\t\t\tval = t1 + (t2 - t1) * (2 / 3 - t3) * 6;\n\t\t} else {\n\t\t\tval = t1;\n\t\t}\n\n\t\trgb[i] = val * 255;\n\t}\n\n\treturn rgb;\n};\n\nconvert.hsl.hsv = function (hsl) {\n\tconst h = hsl[0];\n\tlet s = hsl[1] / 100;\n\tlet l = hsl[2] / 100;\n\tlet smin = s;\n\tconst lmin = Math.max(l, 0.01);\n\n\tl *= 2;\n\ts *= (l <= 1) ? l : 2 - l;\n\tsmin *= lmin <= 1 ? lmin : 2 - lmin;\n\tconst v = (l + s) / 2;\n\tconst sv = l === 0 ? (2 * smin) / (lmin + smin) : (2 * s) / (l + s);\n\n\treturn [h, sv * 100, v * 100];\n};\n\nconvert.hsv.rgb = function (hsv) {\n\tconst h = hsv[0] / 60;\n\tconst s = hsv[1] / 100;\n\tlet v = hsv[2] / 100;\n\tconst hi = Math.floor(h) % 6;\n\n\tconst f = h - Math.floor(h);\n\tconst p = 255 * v * (1 - s);\n\tconst q = 255 * v * (1 - (s * f));\n\tconst t = 255 * v * (1 - (s * (1 - f)));\n\tv *= 255;\n\n\tswitch (hi) {\n\t\tcase 0:\n\t\t\treturn [v, t, p];\n\t\tcase 1:\n\t\t\treturn [q, v, p];\n\t\tcase 2:\n\t\t\treturn [p, v, t];\n\t\tcase 3:\n\t\t\treturn [p, q, v];\n\t\tcase 4:\n\t\t\treturn [t, p, v];\n\t\tcase 5:\n\t\t\treturn [v, p, q];\n\t}\n};\n\nconvert.hsv.hsl = function (hsv) {\n\tconst h = hsv[0];\n\tconst s = hsv[1] / 100;\n\tconst v = hsv[2] / 100;\n\tconst vmin = Math.max(v, 0.01);\n\tlet sl;\n\tlet l;\n\n\tl = (2 - s) * v;\n\tconst lmin = (2 - s) * vmin;\n\tsl = s * vmin;\n\tsl /= (lmin <= 1) ? lmin : 2 - lmin;\n\tsl = sl || 0;\n\tl /= 2;\n\n\treturn [h, sl * 100, l * 100];\n};\n\n// http://dev.w3.org/csswg/css-color/#hwb-to-rgb\nconvert.hwb.rgb = function (hwb) {\n\tconst h = hwb[0] / 360;\n\tlet wh = hwb[1] / 100;\n\tlet bl = hwb[2] / 100;\n\tconst ratio = wh + bl;\n\tlet f;\n\n\t// Wh + bl cant be > 1\n\tif (ratio > 1) {\n\t\twh /= ratio;\n\t\tbl /= ratio;\n\t}\n\n\tconst i = Math.floor(6 * h);\n\tconst v = 1 - bl;\n\tf = 6 * h - i;\n\n\tif ((i & 0x01) !== 0) {\n\t\tf = 1 - f;\n\t}\n\n\tconst n = wh + f * (v - wh); // Linear interpolation\n\n\tlet r;\n\tlet g;\n\tlet b;\n\t/* eslint-disable max-statements-per-line,no-multi-spaces */\n\tswitch (i) {\n\t\tdefault:\n\t\tcase 6:\n\t\tcase 0: r = v;  g = n;  b = wh; break;\n\t\tcase 1: r = n;  g = v;  b = wh; break;\n\t\tcase 2: r = wh; g = v;  b = n; break;\n\t\tcase 3: r = wh; g = n;  b = v; break;\n\t\tcase 4: r = n;  g = wh; b = v; break;\n\t\tcase 5: r = v;  g = wh; b = n; break;\n\t}\n\t/* eslint-enable max-statements-per-line,no-multi-spaces */\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.cmyk.rgb = function (cmyk) {\n\tconst c = cmyk[0] / 100;\n\tconst m = cmyk[1] / 100;\n\tconst y = cmyk[2] / 100;\n\tconst k = cmyk[3] / 100;\n\n\tconst r = 1 - Math.min(1, c * (1 - k) + k);\n\tconst g = 1 - Math.min(1, m * (1 - k) + k);\n\tconst b = 1 - Math.min(1, y * (1 - k) + k);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.xyz.rgb = function (xyz) {\n\tconst x = xyz[0] / 100;\n\tconst y = xyz[1] / 100;\n\tconst z = xyz[2] / 100;\n\tlet r;\n\tlet g;\n\tlet b;\n\n\tr = (x * 3.2406) + (y * -1.5372) + (z * -0.4986);\n\tg = (x * -0.9689) + (y * 1.8758) + (z * 0.0415);\n\tb = (x * 0.0557) + (y * -0.2040) + (z * 1.0570);\n\n\t// Assume sRGB\n\tr = r > 0.0031308\n\t\t? ((1.055 * (r ** (1.0 / 2.4))) - 0.055)\n\t\t: r * 12.92;\n\n\tg = g > 0.0031308\n\t\t? ((1.055 * (g ** (1.0 / 2.4))) - 0.055)\n\t\t: g * 12.92;\n\n\tb = b > 0.0031308\n\t\t? ((1.055 * (b ** (1.0 / 2.4))) - 0.055)\n\t\t: b * 12.92;\n\n\tr = Math.min(Math.max(0, r), 1);\n\tg = Math.min(Math.max(0, g), 1);\n\tb = Math.min(Math.max(0, b), 1);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.xyz.lab = function (xyz) {\n\tlet x = xyz[0];\n\tlet y = xyz[1];\n\tlet z = xyz[2];\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > 0.008856 ? (x ** (1 / 3)) : (7.787 * x) + (16 / 116);\n\ty = y > 0.008856 ? (y ** (1 / 3)) : (7.787 * y) + (16 / 116);\n\tz = z > 0.008856 ? (z ** (1 / 3)) : (7.787 * z) + (16 / 116);\n\n\tconst l = (116 * y) - 16;\n\tconst a = 500 * (x - y);\n\tconst b = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n\nconvert.lab.xyz = function (lab) {\n\tconst l = lab[0];\n\tconst a = lab[1];\n\tconst b = lab[2];\n\tlet x;\n\tlet y;\n\tlet z;\n\n\ty = (l + 16) / 116;\n\tx = a / 500 + y;\n\tz = y - b / 200;\n\n\tconst y2 = y ** 3;\n\tconst x2 = x ** 3;\n\tconst z2 = z ** 3;\n\ty = y2 > 0.008856 ? y2 : (y - 16 / 116) / 7.787;\n\tx = x2 > 0.008856 ? x2 : (x - 16 / 116) / 7.787;\n\tz = z2 > 0.008856 ? z2 : (z - 16 / 116) / 7.787;\n\n\tx *= 95.047;\n\ty *= 100;\n\tz *= 108.883;\n\n\treturn [x, y, z];\n};\n\nconvert.lab.lch = function (lab) {\n\tconst l = lab[0];\n\tconst a = lab[1];\n\tconst b = lab[2];\n\tlet h;\n\n\tconst hr = Math.atan2(b, a);\n\th = hr * 360 / 2 / Math.PI;\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tconst c = Math.sqrt(a * a + b * b);\n\n\treturn [l, c, h];\n};\n\nconvert.lch.lab = function (lch) {\n\tconst l = lch[0];\n\tconst c = lch[1];\n\tconst h = lch[2];\n\n\tconst hr = h / 360 * 2 * Math.PI;\n\tconst a = c * Math.cos(hr);\n\tconst b = c * Math.sin(hr);\n\n\treturn [l, a, b];\n};\n\nconvert.rgb.ansi16 = function (args, saturation = null) {\n\tconst [r, g, b] = args;\n\tlet value = saturation === null ? convert.rgb.hsv(args)[2] : saturation; // Hsv -> ansi16 optimization\n\n\tvalue = Math.round(value / 50);\n\n\tif (value === 0) {\n\t\treturn 30;\n\t}\n\n\tlet ansi = 30\n\t\t+ ((Math.round(b / 255) << 2)\n\t\t| (Math.round(g / 255) << 1)\n\t\t| Math.round(r / 255));\n\n\tif (value === 2) {\n\t\tansi += 60;\n\t}\n\n\treturn ansi;\n};\n\nconvert.hsv.ansi16 = function (args) {\n\t// Optimization here; we already know the value and don't need to get\n\t// it converted for us.\n\treturn convert.rgb.ansi16(convert.hsv.rgb(args), args[2]);\n};\n\nconvert.rgb.ansi256 = function (args) {\n\tconst r = args[0];\n\tconst g = args[1];\n\tconst b = args[2];\n\n\t// We use the extended greyscale palette here, with the exception of\n\t// black and white. normal palette only has 4 greyscale shades.\n\tif (r === g && g === b) {\n\t\tif (r < 8) {\n\t\t\treturn 16;\n\t\t}\n\n\t\tif (r > 248) {\n\t\t\treturn 231;\n\t\t}\n\n\t\treturn Math.round(((r - 8) / 247) * 24) + 232;\n\t}\n\n\tconst ansi = 16\n\t\t+ (36 * Math.round(r / 255 * 5))\n\t\t+ (6 * Math.round(g / 255 * 5))\n\t\t+ Math.round(b / 255 * 5);\n\n\treturn ansi;\n};\n\nconvert.ansi16.rgb = function (args) {\n\tlet color = args % 10;\n\n\t// Handle greyscale\n\tif (color === 0 || color === 7) {\n\t\tif (args > 50) {\n\t\t\tcolor += 3.5;\n\t\t}\n\n\t\tcolor = color / 10.5 * 255;\n\n\t\treturn [color, color, color];\n\t}\n\n\tconst mult = (~~(args > 50) + 1) * 0.5;\n\tconst r = ((color & 1) * mult) * 255;\n\tconst g = (((color >> 1) & 1) * mult) * 255;\n\tconst b = (((color >> 2) & 1) * mult) * 255;\n\n\treturn [r, g, b];\n};\n\nconvert.ansi256.rgb = function (args) {\n\t// Handle greyscale\n\tif (args >= 232) {\n\t\tconst c = (args - 232) * 10 + 8;\n\t\treturn [c, c, c];\n\t}\n\n\targs -= 16;\n\n\tlet rem;\n\tconst r = Math.floor(args / 36) / 5 * 255;\n\tconst g = Math.floor((rem = args % 36) / 6) / 5 * 255;\n\tconst b = (rem % 6) / 5 * 255;\n\n\treturn [r, g, b];\n};\n\nconvert.rgb.hex = function (args) {\n\tconst integer = ((Math.round(args[0]) & 0xFF) << 16)\n\t\t+ ((Math.round(args[1]) & 0xFF) << 8)\n\t\t+ (Math.round(args[2]) & 0xFF);\n\n\tconst string = integer.toString(16).toUpperCase();\n\treturn '000000'.substring(string.length) + string;\n};\n\nconvert.hex.rgb = function (args) {\n\tconst match = args.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);\n\tif (!match) {\n\t\treturn [0, 0, 0];\n\t}\n\n\tlet colorString = match[0];\n\n\tif (match[0].length === 3) {\n\t\tcolorString = colorString.split('').map(char => {\n\t\t\treturn char + char;\n\t\t}).join('');\n\t}\n\n\tconst integer = parseInt(colorString, 16);\n\tconst r = (integer >> 16) & 0xFF;\n\tconst g = (integer >> 8) & 0xFF;\n\tconst b = integer & 0xFF;\n\n\treturn [r, g, b];\n};\n\nconvert.rgb.hcg = function (rgb) {\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\tconst max = Math.max(Math.max(r, g), b);\n\tconst min = Math.min(Math.min(r, g), b);\n\tconst chroma = (max - min);\n\tlet grayscale;\n\tlet hue;\n\n\tif (chroma < 1) {\n\t\tgrayscale = min / (1 - chroma);\n\t} else {\n\t\tgrayscale = 0;\n\t}\n\n\tif (chroma <= 0) {\n\t\thue = 0;\n\t} else\n\tif (max === r) {\n\t\thue = ((g - b) / chroma) % 6;\n\t} else\n\tif (max === g) {\n\t\thue = 2 + (b - r) / chroma;\n\t} else {\n\t\thue = 4 + (r - g) / chroma;\n\t}\n\n\thue /= 6;\n\thue %= 1;\n\n\treturn [hue * 360, chroma * 100, grayscale * 100];\n};\n\nconvert.hsl.hcg = function (hsl) {\n\tconst s = hsl[1] / 100;\n\tconst l = hsl[2] / 100;\n\n\tconst c = l < 0.5 ? (2.0 * s * l) : (2.0 * s * (1.0 - l));\n\n\tlet f = 0;\n\tif (c < 1.0) {\n\t\tf = (l - 0.5 * c) / (1.0 - c);\n\t}\n\n\treturn [hsl[0], c * 100, f * 100];\n};\n\nconvert.hsv.hcg = function (hsv) {\n\tconst s = hsv[1] / 100;\n\tconst v = hsv[2] / 100;\n\n\tconst c = s * v;\n\tlet f = 0;\n\n\tif (c < 1.0) {\n\t\tf = (v - c) / (1 - c);\n\t}\n\n\treturn [hsv[0], c * 100, f * 100];\n};\n\nconvert.hcg.rgb = function (hcg) {\n\tconst h = hcg[0] / 360;\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\n\tif (c === 0.0) {\n\t\treturn [g * 255, g * 255, g * 255];\n\t}\n\n\tconst pure = [0, 0, 0];\n\tconst hi = (h % 1) * 6;\n\tconst v = hi % 1;\n\tconst w = 1 - v;\n\tlet mg = 0;\n\n\t/* eslint-disable max-statements-per-line */\n\tswitch (Math.floor(hi)) {\n\t\tcase 0:\n\t\t\tpure[0] = 1; pure[1] = v; pure[2] = 0; break;\n\t\tcase 1:\n\t\t\tpure[0] = w; pure[1] = 1; pure[2] = 0; break;\n\t\tcase 2:\n\t\t\tpure[0] = 0; pure[1] = 1; pure[2] = v; break;\n\t\tcase 3:\n\t\t\tpure[0] = 0; pure[1] = w; pure[2] = 1; break;\n\t\tcase 4:\n\t\t\tpure[0] = v; pure[1] = 0; pure[2] = 1; break;\n\t\tdefault:\n\t\t\tpure[0] = 1; pure[1] = 0; pure[2] = w;\n\t}\n\t/* eslint-enable max-statements-per-line */\n\n\tmg = (1.0 - c) * g;\n\n\treturn [\n\t\t(c * pure[0] + mg) * 255,\n\t\t(c * pure[1] + mg) * 255,\n\t\t(c * pure[2] + mg) * 255\n\t];\n};\n\nconvert.hcg.hsv = function (hcg) {\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\n\tconst v = c + g * (1.0 - c);\n\tlet f = 0;\n\n\tif (v > 0.0) {\n\t\tf = c / v;\n\t}\n\n\treturn [hcg[0], f * 100, v * 100];\n};\n\nconvert.hcg.hsl = function (hcg) {\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\n\tconst l = g * (1.0 - c) + 0.5 * c;\n\tlet s = 0;\n\n\tif (l > 0.0 && l < 0.5) {\n\t\ts = c / (2 * l);\n\t} else\n\tif (l >= 0.5 && l < 1.0) {\n\t\ts = c / (2 * (1 - l));\n\t}\n\n\treturn [hcg[0], s * 100, l * 100];\n};\n\nconvert.hcg.hwb = function (hcg) {\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\tconst v = c + g * (1.0 - c);\n\treturn [hcg[0], (v - c) * 100, (1 - v) * 100];\n};\n\nconvert.hwb.hcg = function (hwb) {\n\tconst w = hwb[1] / 100;\n\tconst b = hwb[2] / 100;\n\tconst v = 1 - b;\n\tconst c = v - w;\n\tlet g = 0;\n\n\tif (c < 1) {\n\t\tg = (v - c) / (1 - c);\n\t}\n\n\treturn [hwb[0], c * 100, g * 100];\n};\n\nconvert.apple.rgb = function (apple) {\n\treturn [(apple[0] / 65535) * 255, (apple[1] / 65535) * 255, (apple[2] / 65535) * 255];\n};\n\nconvert.rgb.apple = function (rgb) {\n\treturn [(rgb[0] / 255) * 65535, (rgb[1] / 255) * 65535, (rgb[2] / 255) * 65535];\n};\n\nconvert.gray.rgb = function (args) {\n\treturn [args[0] / 100 * 255, args[0] / 100 * 255, args[0] / 100 * 255];\n};\n\nconvert.gray.hsl = function (args) {\n\treturn [0, 0, args[0]];\n};\n\nconvert.gray.hsv = convert.gray.hsl;\n\nconvert.gray.hwb = function (gray) {\n\treturn [0, 100, gray[0]];\n};\n\nconvert.gray.cmyk = function (gray) {\n\treturn [0, 0, 0, gray[0]];\n};\n\nconvert.gray.lab = function (gray) {\n\treturn [gray[0], 0, 0];\n};\n\nconvert.gray.hex = function (gray) {\n\tconst val = Math.round(gray[0] / 100 * 255) & 0xFF;\n\tconst integer = (val << 16) + (val << 8) + val;\n\n\tconst string = integer.toString(16).toUpperCase();\n\treturn '000000'.substring(string.length) + string;\n};\n\nconvert.rgb.gray = function (rgb) {\n\tconst val = (rgb[0] + rgb[1] + rgb[2]) / 3;\n\treturn [val / 255 * 100];\n};\n","const conversions = require('./conversions');\n\n/*\n\tThis function routes a model to all other models.\n\n\tall functions that are routed have a property `.conversion` attached\n\tto the returned synthetic function. This property is an array\n\tof strings, each with the steps in between the 'from' and 'to'\n\tcolor models (inclusive).\n\n\tconversions that are not possible simply are not included.\n*/\n\nfunction buildGraph() {\n\tconst graph = {};\n\t// https://jsperf.com/object-keys-vs-for-in-with-closure/3\n\tconst models = Object.keys(conversions);\n\n\tfor (let len = models.length, i = 0; i < len; i++) {\n\t\tgraph[models[i]] = {\n\t\t\t// http://jsperf.com/1-vs-infinity\n\t\t\t// micro-opt, but this is simple.\n\t\t\tdistance: -1,\n\t\t\tparent: null\n\t\t};\n\t}\n\n\treturn graph;\n}\n\n// https://en.wikipedia.org/wiki/Breadth-first_search\nfunction deriveBFS(fromModel) {\n\tconst graph = buildGraph();\n\tconst queue = [fromModel]; // Unshift -> queue -> pop\n\n\tgraph[fromModel].distance = 0;\n\n\twhile (queue.length) {\n\t\tconst current = queue.pop();\n\t\tconst adjacents = Object.keys(conversions[current]);\n\n\t\tfor (let len = adjacents.length, i = 0; i < len; i++) {\n\t\t\tconst adjacent = adjacents[i];\n\t\t\tconst node = graph[adjacent];\n\n\t\t\tif (node.distance === -1) {\n\t\t\t\tnode.distance = graph[current].distance + 1;\n\t\t\t\tnode.parent = current;\n\t\t\t\tqueue.unshift(adjacent);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn graph;\n}\n\nfunction link(from, to) {\n\treturn function (args) {\n\t\treturn to(from(args));\n\t};\n}\n\nfunction wrapConversion(toModel, graph) {\n\tconst path = [graph[toModel].parent, toModel];\n\tlet fn = conversions[graph[toModel].parent][toModel];\n\n\tlet cur = graph[toModel].parent;\n\twhile (graph[cur].parent) {\n\t\tpath.unshift(graph[cur].parent);\n\t\tfn = link(conversions[graph[cur].parent][cur], fn);\n\t\tcur = graph[cur].parent;\n\t}\n\n\tfn.conversion = path;\n\treturn fn;\n}\n\nmodule.exports = function (fromModel) {\n\tconst graph = deriveBFS(fromModel);\n\tconst conversion = {};\n\n\tconst models = Object.keys(graph);\n\tfor (let len = models.length, i = 0; i < len; i++) {\n\t\tconst toModel = models[i];\n\t\tconst node = graph[toModel];\n\n\t\tif (node.parent === null) {\n\t\t\t// No possible conversion, or this node is the source model.\n\t\t\tcontinue;\n\t\t}\n\n\t\tconversion[toModel] = wrapConversion(toModel, graph);\n\t}\n\n\treturn conversion;\n};\n\n","const conversions = require('./conversions');\nconst route = require('./route');\n\nconst convert = {};\n\nconst models = Object.keys(conversions);\n\nfunction wrapRaw(fn) {\n\tconst wrappedFn = function (...args) {\n\t\tconst arg0 = args[0];\n\t\tif (arg0 === undefined || arg0 === null) {\n\t\t\treturn arg0;\n\t\t}\n\n\t\tif (arg0.length > 1) {\n\t\t\targs = arg0;\n\t\t}\n\n\t\treturn fn(args);\n\t};\n\n\t// Preserve .conversion property if there is one\n\tif ('conversion' in fn) {\n\t\twrappedFn.conversion = fn.conversion;\n\t}\n\n\treturn wrappedFn;\n}\n\nfunction wrapRounded(fn) {\n\tconst wrappedFn = function (...args) {\n\t\tconst arg0 = args[0];\n\n\t\tif (arg0 === undefined || arg0 === null) {\n\t\t\treturn arg0;\n\t\t}\n\n\t\tif (arg0.length > 1) {\n\t\t\targs = arg0;\n\t\t}\n\n\t\tconst result = fn(args);\n\n\t\t// We're assuming the result is an array here.\n\t\t// see notice in conversions.js; don't use box types\n\t\t// in conversion functions.\n\t\tif (typeof result === 'object') {\n\t\t\tfor (let len = result.length, i = 0; i < len; i++) {\n\t\t\t\tresult[i] = Math.round(result[i]);\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t};\n\n\t// Preserve .conversion property if there is one\n\tif ('conversion' in fn) {\n\t\twrappedFn.conversion = fn.conversion;\n\t}\n\n\treturn wrappedFn;\n}\n\nmodels.forEach(fromModel => {\n\tconvert[fromModel] = {};\n\n\tObject.defineProperty(convert[fromModel], 'channels', {value: conversions[fromModel].channels});\n\tObject.defineProperty(convert[fromModel], 'labels', {value: conversions[fromModel].labels});\n\n\tconst routes = route(fromModel);\n\tconst routeModels = Object.keys(routes);\n\n\trouteModels.forEach(toModel => {\n\t\tconst fn = routes[toModel];\n\n\t\tconvert[fromModel][toModel] = wrapRounded(fn);\n\t\tconvert[fromModel][toModel].raw = wrapRaw(fn);\n\t});\n});\n\nmodule.exports = convert;\n","import convert from 'color-convert';\n\nconst initBulletAnimate = screen => {\n  if (!screen) {\n    return;\n  }\n  const animateClass = 'BULLET_ANIMATE';\n\n  let style = document.createElement('style');\n  style.classList.add(animateClass);\n  document.head.appendChild(style);\n  let { width } = screen.getBoundingClientRect();\n  let from = `from { visibility: visible; transform: translateX(${width}px); }`;\n  let to = `to { visibility: visible; transform: translateX(-100%); }`;\n  style.sheet.insertRule(`@keyframes RightToLeft { ${from} ${to} }`, 0);\n\n};\nconst isPlainObject = val => {\n  if (val === null) {\n    return false;\n  }\n  return typeof val === 'function' || typeof val === 'object';\n};\nconst getContainer = opts => {\n  const {\n    currScreen,\n    pauseOnHover,\n    pauseOnClick,\n    animate,\n    loopCount,\n    direction,\n    delay,\n    duration,\n    animateTimeFun\n  } = opts;\n  // 创建单条弹幕的容器\n  const bulletContainer = document.createElement('div');\n  // 随机ID\n  bulletContainer.id = Math.random()\n    .toString(36)\n    .substring(2);\n\n  // 设置弹幕容器的初始样式\n  bulletContainer.style.transitionProperty = 'opacity';\n  bulletContainer.style.transitionDuration = '0.5s';\n  bulletContainer.style.cursor = 'pointer';\n  bulletContainer.style.position = 'absolute';\n  bulletContainer.style.left = 0;\n  // bulletContainer.style.zIndex = zIndex;\n  bulletContainer.style.visibility = 'hidden';\n  bulletContainer.style.animationName = animate;\n  bulletContainer.style.animationIterationCount = loopCount;\n  bulletContainer.style.animationDelay = isNaN(delay) ? delay : `${delay}s`;\n  bulletContainer.style.animationDirection = direction;\n  bulletContainer.style.animationDuration = isNaN(duration) ? duration : `${duration}s`;\n  bulletContainer.style.animationTimingFunction = animateTimeFun;\n\n  // 性能小优化\n  bulletContainer.style.willChange = 'transform';\n  // 隐藏\n  if (currScreen.allHide) {\n    bulletContainer.style.opacity = 0;\n  }\n  // pause on hover\n  if (pauseOnHover) {\n    bulletContainer.addEventListener(\n      'mouseenter',\n      () => {\n        console.log('enter');\n\n        bulletContainer.style.animationPlayState = 'paused';\n      },\n      false\n    );\n    bulletContainer.addEventListener(\n      'mouseleave',\n      () => {\n        console.log('leave');\n        if (!currScreen.allPaused && !bulletContainer.dataset.clicked) {\n          bulletContainer.style.animationPlayState = 'running';\n        }\n      },\n      false\n    );\n  }\n  // pauseonClick\n  if (pauseOnClick) {\n    bulletContainer.addEventListener(\n      'click',\n      evt => {\n        console.log(evt);\n        let currStatus = bulletContainer.style.animationPlayState;\n        if (currStatus == 'paused' && bulletContainer.dataset.clicked) {\n          bulletContainer.dataset.clicked = '';\n          bulletContainer.style.animationPlayState = 'running';\n        } else {\n          bulletContainer.dataset.clicked = 'true';\n          bulletContainer.style.animationPlayState = 'paused';\n        }\n      },\n      false\n    );\n  }\n  return bulletContainer;\n};\nfunction getRGB(str) {\n  var match = str.match(/rgba?\\((\\d{1,3}), ?(\\d{1,3}), ?(\\d{1,3})\\)?(?:, ?(\\d(?:\\.\\d?))\\))?/);\n  return match ? [match[1], match[2], match[3]] : [0, 0, 0];\n}\nfunction getCorrectTextColor(rgb = [0, 0, 0]) {\n  /*\n  From this W3C document: http://www.webmasterworld.com/r.cgi?f=88&d=9769&url=http://www.w3.org/TR/AERT#color-contrast\n\n  Color brightness is determined by the following formula:\n  ((Red value X 299) + (Green value X 587) + (Blue value X 114)) / 1000\n\n  I know this could be more compact, but I think this is easier to read/explain.\n\n  */\n  if ((typeof rgb === 'string' || rgb instanceof String) && rgb.indexOf('#') > -1) {\n    console.log('rgb is hex');\n    rgb = convert.hex.rgb(rgb);\n  } else if (typeof rgb === 'string') {\n    console.log('rgb string', rgb);\n    rgb = getRGB(rgb);\n    console.log('rgb converted', rgb);\n  }\n  console.log({ rgb });\n\n  const threshold = 130; /* about half of 256. Lower threshold equals more dark text on dark background  */\n  const [hRed, hGreen, hBlue] = rgb;\n\n  const cBrightness = (hRed * 299 + hGreen * 587 + hBlue * 114) / 1000;\n  if (cBrightness > threshold) {\n    return '#50616d';\n  } else {\n    return '#e9f1f6';\n  }\n}\n\nconst defaultOptions = {\n  // 跑道高度\n  trackHeight: 50,\n  // 弹幕之间的间距\n  gap: '10px',\n  animate: 'RightToLeft',\n  pauseOnHover: true,\n  pauseOnClick: false,\n  onStart: null,\n  onEnd: null,\n  loopCount: 1,\n  duration: 10,\n  delay: 0,\n  direction: 'normal',\n  animateTimeFun: 'linear'\n};\nexport { defaultOptions, initBulletAnimate, isPlainObject, getContainer, getCorrectTextColor };\n","import React from 'react';\nimport { getCorrectTextColor } from './helper';\n\nconst WrapperStyle = {\n  padding: '.4em 1em',\n  border: '2px solid #fff',\n  borderRadius: '2.2em',\n  position: 'relative',\n  boxShadow: '0 0 .8em rgba(0, 0, 0, 0.5)',\n  wordBreak: 'keep-all',\n  whiteSpace: 'pre-wrap'\n};\nconst MsgStyle = {\n  fontSize: '1.8em',\n  fontWeight: '800',\n  lineHeight: '1.4'\n};\nconst HeadStyle = {\n  position: 'absolute',\n  left: '-4.6em',\n  top: '50%',\n  transform: 'translateY(-50%)',\n  width: '4em',\n  height: '4em',\n  borderRadius: '50%',\n  border: '2px solid #eee',\n  boxShadow: '0 0 .8em rgba(0, 0, 0, 0.8)'\n};\nconst ImageStyle = {\n  borderRadius: '50%',\n  width: '100%',\n  height: '100%'\n};\nconst sizes = {\n  small: '10px',\n  normal: '12px',\n  large: '14px',\n  huge: '16px'\n};\nconst StyledBullet = ({ msg, head, size = 'normal', color, backgroundColor = '#fff' }) => {\n  const finalColor = color || getCorrectTextColor(backgroundColor);\n  const fontSize = sizes[size] || size;\n  return (\n    <div style={{ ...WrapperStyle, backgroundColor, fontSize }}>\n      {head && (\n        <div style={{ ...HeadStyle }}>\n          <img src={head} style={ImageStyle} alt=\"msg head\" />\n        </div>\n      )}\n      <div style={{ ...MsgStyle, color: finalColor }}>{msg}</div>\n    </div>\n  );\n};\nexport default StyledBullet;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { defaultOptions, initBulletAnimate, isPlainObject, getContainer } from './helper';\nimport StyledBullet from './StyledBullet';\n\nexport default class BulletScreen {\n  target = null;\n  options = defaultOptions;\n  bullets = [];\n  allPaused = false;\n  allHide = false;\n  tracks = [];\n  queues = [];\n  constructor(ele, opts = {}) {\n    // 更新默认配置项\n    this.options = Object.assign(this.options, opts);\n    const { trackHeight } = this.options;\n    // 设置弹幕目标\n    if (typeof ele === 'string') {\n      this.target = document.querySelector(ele);\n      if (!this.target) {\n        throw new Error('The display target does not exist');\n      }\n    } else if (ele instanceof HTMLElement) {\n      this.target = ele;\n    } else {\n      throw new Error('The display target of the barrage must be set');\n    }\n    // 初始化跑道，全部是空闲状态\n    const { height } = this.target.getBoundingClientRect();\n    this.tracks = new Array(Math.floor(height / trackHeight)).fill('idle');\n    // 屏幕目标必须具备的CSS样式\n    const { position } = getComputedStyle(this.target);\n    if (position === 'static') {\n      this.target.style.position = 'relative';\n      // this.target.style.overflow = 'hidden';\n    }\n    // 插入css animation\n    initBulletAnimate(this.target);\n  }\n  _getTrack() {\n    let readyIdxs = [];\n    let idx = -1;\n    // 优先取空闲状态的\n    this.tracks.forEach((st, idx) => {\n      if (st === 'idle') {\n        readyIdxs.push(idx);\n      }\n    });\n    if (readyIdxs.length) {\n      idx = readyIdxs[Math.floor(Math.random() * readyIdxs.length)];\n    }\n    if (idx === -1) {\n      // 其次是可以接上状态的\n      this.tracks.forEach((st, idx) => {\n        if (st === 'feed') {\n          readyIdxs.push(idx);\n        }\n      });\n      if (readyIdxs.length) {\n        idx = readyIdxs[Math.floor(Math.random() * readyIdxs.length)];\n      }\n    }\n    if (idx !== -1) {\n      this.tracks[idx] = 'running';\n    }\n    return idx;\n  }\n\n  push(item, opts = {}) {\n    const options = Object.assign({}, this.options, opts);\n    console.log({ options });\n\n    const { onStart, onEnd, top } = options;\n    const bulletContainer = getContainer({\n      ...options,\n      currScreen: this\n    });\n\n    // 加入当前存在的弹幕列表\n    this.bullets.push(bulletContainer);\n    console.log('push before queues', this.queues, this.tracks);\n    const currIdletrack = this._getTrack();\n    if (currIdletrack === -1 || this.allPaused) {\n      // 考虑到全部暂停的情景\n      this.queues.push([item, bulletContainer, top]);\n    } else {\n      this._render(item, bulletContainer, currIdletrack, top);\n    }\n\n    if (onStart) {\n      // 创建一个监听弹幕动画开始的事件\n      bulletContainer.addEventListener('animationstart', () => {\n        if (onStart) {\n          onStart.call(null, bulletContainer.id, this);\n        }\n      });\n    }\n    // 创建一个监听弹幕动画完成的事件\n    bulletContainer.addEventListener('animationend', () => {\n      // 如果设置了动画完成自定义函数，则执行\n      if (onEnd) {\n        onEnd.call(null, bulletContainer.id, this);\n      }\n      // 从集合中剔除\n      this.bullets = this.bullets.filter(function (obj) {\n        return obj.id !== bulletContainer.id;\n      });\n      ReactDOM.unmountComponentAtNode(bulletContainer);\n      bulletContainer.remove();\n    });\n\n    // 返回该容器的ID\n    return bulletContainer.id;\n  }\n  _render = (item, container, track, top) => {\n    this.target.appendChild(container);\n    const { gap, trackHeight } = this.options;\n    // 弹幕渲染进屏幕\n    ReactDOM.render(\n      React.isValidElement(item) || typeof item === 'string' ? (\n        item\n      ) : isPlainObject(item) ? (\n        <StyledBullet {...item} />\n      ) : null,\n      container,\n      () => {\n        let trackTop = track * trackHeight;\n        container.dataset.track = track;\n        container.style.top = top ? top : `${trackTop}px`;\n        let options = {\n          root: this.target,\n          rootMargin: `0px ${gap} 0px 0px`,\n          threshold: 1.0\n        };\n        let observer = new IntersectionObserver(entries => {\n          entries.forEach(entry => {\n            // 完全处于视窗之内\n            const { intersectionRatio, target } = entry;\n            console.log('bullet id', target.id, intersectionRatio);\n            if (intersectionRatio >= 1) {\n              let trackIdx = target.dataset.track;\n              console.log('curr track value', this.tracks[trackIdx]);\n              console.log('curr queues', this.queues);\n              if (this.queues.length) {\n                const [item, container, customTop] = this.queues.shift();\n                this._render(item, container, trackIdx, customTop);\n              } else {\n                this.tracks[trackIdx] = 'feed';\n              }\n            }\n          });\n        }, options);\n        observer.observe(container);\n      }\n    );\n  };\n  _toggleAnimateStatus = (id, status = 'paused') => {\n    const currItem = this.bullets.find(item => item.id == id);\n    if (currItem) {\n      currItem.style.animationPlayState = status;\n      return;\n    }\n\n    this.allPaused = status === 'paused' ? true : false;\n    this.bullets.forEach(item => {\n      item.style.animationPlayState = status;\n    });\n  };\n  pause(id = null) {\n    this._toggleAnimateStatus(id, 'paused');\n  }\n  resume(id = null) {\n    this._toggleAnimateStatus(id, 'running');\n  }\n  hide() {\n    this.allHide = true;\n    this.bullets.forEach(item => {\n      item.style.opacity = 0;\n    });\n  }\n  show() {\n    this.allHide = false;\n    this.bullets.forEach(item => {\n      item.style.opacity = 1;\n    });\n  }\n  clear(id = null) {\n    const currItem = this.bullets.find(item => item.id == id);\n    if (currItem) {\n      ReactDOM.unmountComponentAtNode(currItem);\n      currItem.remove();\n      this.bullets = this.bullets.filter(function (item) {\n        return item.id !== id;\n      });\n      return;\n    }\n    this.bullets.forEach(item => {\n      ReactDOM.unmountComponentAtNode(item);\n      item.remove();\n    });\n    const { height } = this.target.getBoundingClientRect();\n    this.tracks = new Array(Math.floor(height / this.options.trackHeight)).fill('idle');\n    this.queues = [];\n    this.bullets = [];\n  }\n}\n"],"names":["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","reverseKeywords","key","Object","keys","cssKeywords","convert","rgb","channels","labels","hsl","hsv","hwb","cmyk","xyz","lab","lch","hex","keyword","ansi16","ansi256","hcg","apple","model","Error","length","defineProperty","value","deriveBFS","fromModel","graph","models","conversions","len","i","distance","parent","buildGraph","queue","current","pop","adjacents","adjacent","node","unshift","link","from","to","args","wrapConversion","toModel","path","fn","cur","conversion","r","g","b","min","Math","max","delta","h","s","l","rdif","gdif","bdif","v","diff","diffc","c","w","k","reversed","currentClosestKeyword","currentClosestDistance","Infinity","y","x","z","t2","t3","val","t1","smin","lmin","hi","floor","f","p","q","t","vmin","sl","wh","bl","ratio","n","m","y2","x2","z2","a","atan2","PI","sqrt","hr","cos","sin","saturation","round","ansi","color","mult","rem","string","toString","toUpperCase","substring","match","colorString","split","map","char","join","integer","parseInt","chroma","grayscale","hue","pure","mg","forEach","routes","route","wrappedFn","arg0","result","wrapRounded","raw","wrapRaw","initBulletAnimate","screen","style","document","createElement","classList","add","head","appendChild","width","getBoundingClientRect","sheet","insertRule","isPlainObject","_typeof","getContainer","opts","currScreen","pauseOnHover","pauseOnClick","animate","loopCount","direction","delay","duration","animateTimeFun","bulletContainer","id","random","transitionProperty","transitionDuration","cursor","position","left","visibility","animationName","animationIterationCount","animationDelay","isNaN","animationDirection","animationDuration","animationTimingFunction","willChange","allHide","opacity","addEventListener","animationPlayState","allPaused","dataset","clicked","evt","getRGB","str","defaultOptions","trackHeight","gap","onStart","onEnd","WrapperStyle","padding","border","borderRadius","boxShadow","wordBreak","whiteSpace","MsgStyle","fontSize","fontWeight","lineHeight","HeadStyle","top","transform","height","ImageStyle","sizes","small","normal","large","huge","StyledBullet","msg","size","backgroundColor","finalColor","String","indexOf","threshold","hRed","hGreen","hBlue","getCorrectTextColor","React","src","alt","BulletScreen","ele","item","container","track","_this","target","options","ReactDOM","render","isValidElement","trackTop","root","rootMargin","IntersectionObserver","entries","entry","intersectionRatio","trackIdx","queues","shift","customTop","_render","tracks","observe","status","currItem","bullets","find","assign","this","querySelector","HTMLElement","Array","fill","getComputedStyle","readyIdxs","idx","st","push","currIdletrack","_getTrack","call","_this2","filter","obj","unmountComponentAtNode","remove","_toggleAnimateStatus"],"mappings":"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"}